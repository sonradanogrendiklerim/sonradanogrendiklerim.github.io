
<!doctype html>
<html lang="tr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Üzerinde kontrolünüzün olmadığı üçüncü parti servisler için hata ayıklama rehberi">
      
      
        <meta name="author" content="Eren Türkay">
      
      
        <link rel="canonical" href="https://sonradanogrendiklerim.com/makaleler/mitmproxy-ile-hata-ayiklama/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../devpi-ile-ozel-pypi-sunucusu-kurulumu/">
      
      
        
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS beslemesi" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="Güncellenmiş içeriğin RSS beslemesi" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Mitmproxy ile Hata Ayıklama - Sonradan Öğrendiklerim</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.2.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-E9CRJC3RBF"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-E9CRJC3RBF",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-E9CRJC3RBF",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="Mitmproxy ile Hata Ayıklama - Sonradan Öğrendiklerim" />
<meta property="og:description" content="Üzerinde kontrolünüzün olmadığı üçüncü parti servisler için hata ayıklama rehberi" />
<meta property="og:image" content="https://sonradanogrendiklerim.com/assets/images/social/makaleler/mitmproxy-ile-hata-ayiklama.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://sonradanogrendiklerim.com/makaleler/mitmproxy-ile-hata-ayiklama/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Mitmproxy ile Hata Ayıklama - Sonradan Öğrendiklerim" />
<meta property="twitter:description" content="Üzerinde kontrolünüzün olmadığı üçüncü parti servisler için hata ayıklama rehberi" />
<meta property="twitter:image" content="https://sonradanogrendiklerim.com/assets/images/social/makaleler/mitmproxy-ile-hata-ayiklama.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ihtiyaclar" class="md-skip">
          Ana içeriğe geç
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Başlık">
    <a href="../.." title="Sonradan Öğrendiklerim" class="md-header__button md-logo" aria-label="Sonradan Öğrendiklerim" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sonradan Öğrendiklerim
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Mitmproxy ile Hata Ayıklama
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="white"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Ara" placeholder="Ara" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Ara">
        
        <button type="reset" class="md-search__icon md-icon" title="Temizle" aria-label="Temizle" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Arama başlatılıyor
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Sekmeler" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Anasayfa

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../bilgisayar-muhendisligine-giris/" class="md-tabs__link">
          
  
  
  Bilgisayar Mühendisliğine Giriş

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  Makaleler

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../blog/" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://erenturkay.com/iletisim" class="md-tabs__link">
        
  
  
    
  
  İletişim

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://erenturkay.com/assets/resume/Eren_Turkay_Resume.pdf" class="md-tabs__link">
        
  
  
    
  
  Resume

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigasyon" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Sonradan Öğrendiklerim" class="md-nav__button md-logo" aria-label="Sonradan Öğrendiklerim" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Sonradan Öğrendiklerim
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Anasayfa
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bilgisayar Mühendisliğine Giriş
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bilgisayar Mühendisliğine Giriş
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bilgisayar-muhendisligine-giris/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ön Söz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bilgisayar-muhendisligine-giris/baslarken/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Başlarken
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Nasıl Soru Sorulur?
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Nasıl Soru Sorulur?
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nasil-soru-sorulur/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Giriş
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nasil-soru-sorulur/sormadan-once/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sormadan Önce
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nasil-soru-sorulur/soru-sordugunuzda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Soru Sorduğunuzda
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Linux
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/ubuntu-kurulumu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ubuntu Kurulumu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Terminal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/terminali-guzellestirelim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Terminali Güzelleştirelim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/fish-terminal-eklentileri/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fish Terminal Eklentileri
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/terminal-komutu-nasil-calisir/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Terminal Komutu Nasıl Çalışır
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/programlama-dili-neden-ve-nasil/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Programlama Dili: Neden ve Nasıl
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pythona-giris-ve-modern-gelistirme/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python'a Giriş ve Modern Geliştirme
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/vscode-ile-python-gelistirme-ortami/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VSCode ile Python Geliştirme Ortamı
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/python-modul-yapisi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python Modül Yapısı
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Git
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Git
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/git-baslangici/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Git Başlangıcı
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/pratik-github-rehberi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pratik GitHub Rehberi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Makaleler
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Makaleler
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ana Sayfa
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Mitmproxy ile Hata Ayıklama
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Mitmproxy ile Hata Ayıklama
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="İçindekiler">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      İçindekiler
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ihtiyaclar" class="md-nav__link">
    <span class="md-ellipsis">
      
        İhtiyaçlar
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alan-ad" class="md-nav__link">
    <span class="md-ellipsis">
      
        Alan Adı
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubuntu-sunucu-ve-gerekli-paketler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ubuntu Sunucu ve Gerekli Paketler
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#screen" class="md-nav__link">
    <span class="md-ellipsis">
      
        Screen
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Screen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#screen-ayarlar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Screen Ayarları
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screen-kullanm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Screen Kullanımı
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mitmdump" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mitmdump
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#caddy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Caddy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mitmproxy-ve-kullanm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mitmproxy ve Kullanım
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sonuc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sonuç
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../devpi-ile-ozel-pypi-sunucusu-kurulumu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Devpi ile Özel PyPI Sunucusu Kurulumu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../outline-guncelleme/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Outline Güncelleme
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notion-alternatifi-outline-kurulumu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notion Alternatifi: Outline Kurulumu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tailscale-ile-vpn-sunucusu-kurulumu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tailscale ile VPN Sunucusu Kurulumu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github-pages-statik-sayfa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Github Pages ile Statik Sayfa Sunmak
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://erenturkay.com/iletisim" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    İletişim
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://erenturkay.com/assets/resume/Eren_Turkay_Resume.pdf" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resume
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="İçindekiler">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      İçindekiler
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ihtiyaclar" class="md-nav__link">
    <span class="md-ellipsis">
      
        İhtiyaçlar
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alan-ad" class="md-nav__link">
    <span class="md-ellipsis">
      
        Alan Adı
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubuntu-sunucu-ve-gerekli-paketler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ubuntu Sunucu ve Gerekli Paketler
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#screen" class="md-nav__link">
    <span class="md-ellipsis">
      
        Screen
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Screen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#screen-ayarlar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Screen Ayarları
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screen-kullanm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Screen Kullanımı
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mitmdump" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mitmdump
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#caddy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Caddy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mitmproxy-ve-kullanm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mitmproxy ve Kullanım
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sonuc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sonuç
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigasyon" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Anasayfa
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../" class="md-path__link">
          
  <span class="md-ellipsis">
    Makaleler
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Mitmproxy ile Hata Ayıklama</h1>

<p>Üçüncü parti servisleri sıklıkla kullanıyoruz. Kendi geliştirdiğimiz bir uygulama üzerinde
çalışıyorsak bu üçüncü parti servislere atılan isteklerin ve alınan cevapların görülmesi çok kolay.
Basit bir şekilde log üreterek servisin doğru çalışıp çalışmadığını anlayabiliyoruz. Peki üzerinde
çalıştığımız sistem başka birileri tarafından yazılmışsa ve bu sistemden atılan isteklerin / alınan
cevapların neler olduğunu görmek istiyorsak nasıl bir yol izleyeceğiz? Öyle ki buradaki sistem
servise atılan istekleri loglamıyorsa isteklerin doğru atılıp atılmadığını, alınan cevabın istenilen
şekilde olup olmadığını nasıl görebiliriz?</p>
<p>Burada <code>mitmproxy</code> devreye giriyor. Özetle üçüncü parti servisin adresi yerine kendi sunucumuzun
adresini yazacağız, sunucumuz kendisine gelen istekleri olduğu gibi üçüncü parti servise aktaracak
ve biz de gelen / giden trafiği rahat bir şekilde görebileceğiz.</p>
<p>Yaşanmış bir örnek verecek olursam partner tarafından geliştirilen e-ticaret sistemine üye olan
kullanıcılar için SMS onayı ihtiyacından dolayı SMS firmasının ayarlarını yaptık ancak üyelik
aşamasında SMS gelmediğini gördük. Burada partnerin verebileceği bir log maalesef bulunmadığından
<code>mitmproxy</code> aracılığı ile SMS firması ayarlarına kendi adresimizi yazarak hangi isteklerin atıldığnı
ve problemin ne olduğunu doğru bir şekilde tespit edebildik.</p>
<h2 id="ihtiyaclar">İhtiyaçlar<a class="headerlink" href="#ihtiyaclar" title="Permanent link">&para;</a></h2>
<p>İhtiyaçlarımız oldukça basit. Bu iş için bir alan adında dışarıdan gelen isteklere cevap veren bir
web sunucusu ile <code>mitmproxy</code> uygulamasının olması yeterli.</p>
<ul>
<li>Alan adı</li>
<li>Ubuntu sunucu</li>
<li>Caddy web sunucusu</li>
<li>Screen</li>
<li>Mitmproxy</li>
</ul>
<h2 id="alan-ad">Alan Adı<a class="headerlink" href="#alan-ad" title="Permanent link">&para;</a></h2>
<p>Teoride alan adına sahip olmadan, salt IP adresi ile HTTP üzerinden bunu başarabilecek olsak da
isteklerimizin HTTPS üzerinden güvenli bir şekilde gönderilebilmesi için alan adına ihtiyaç
duyuyoruz. Üçüncü parti servisler yüksek ihtimalle HTTPS üzerinden çalıştığı için ve üzerinde söz
sahibi olamadığımız sistemlerin güvenli bağlantı kurmasından dolayı bunu tercih ediyoruz. Alan adı
veya güvenli bağlantı olmadan çalışacaklarından emin olamadığımız için üçüncü parti servis HTTPS
kullanıyorsa, bizim de bunu aynı şekilde sunabilmemiz mantıklı olacaktır.</p>
<p>Başlamadan önce şirketinizin alan adında veya başka bir alan adı altında kayıt oluşturabildiğinizden
ve bunun <code>mitmproxy</code> kurulumu yapacağımız sunucuya yönlendirildiğinden emin olun.</p>
<h2 id="ubuntu-sunucu-ve-gerekli-paketler">Ubuntu Sunucu ve Gerekli Paketler<a class="headerlink" href="#ubuntu-sunucu-ve-gerekli-paketler" title="Permanent link">&para;</a></h2>
<p>En son LTS sürümü olan 24.04 kullanabilirsiniz. Ubuntu sunucu olması şart olmamakla birlikte
kullanacağınız sürümün de bir önemi yok. Elinizde halihazırda bir sunucu varsa bunu da
değerlendirebilirsiniz. Sadece sunucuya Caddy ve <code>mitmproxy</code> kurabildiğinizden emin olun.</p>
<p>Caddy web sunucusu kurulumu için <a href="https://caddyserver.com/docs/install#debian-ubuntu-raspbian">resmi belgelerden</a> ilerleyebilirsiniz. Nginx yerine Caddy
kullanmamızın temel sebebi Let's Encrypt sertifikalarını ekstra bir efor sarf etmeden oluşturması.</p>
<p>Buna ek olarak aşağıdaki komut ile <code>mitmproxy</code> kurulumunu gerçekleştirebilirsiniz.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>mitmproxy
</span></code></pre></div>
<h2 id="screen">Screen<a class="headerlink" href="#screen" title="Permanent link">&para;</a></h2>
<p>SSH oturumumuz sonlansa bile süreçlerin devam etmesi için kullanacağımız terminal çoklayıcısı.
<code>mitmproxy</code> sürecini screen altında çalıştıracağız ve böylelikle SSH oturumunuzu kapatsanız bile
arka planda çalışmaya devam edecek.</p>
<h3 id="screen-ayarlar">Screen Ayarları<a class="headerlink" href="#screen-ayarlar" title="Permanent link">&para;</a></h3>
<p>Screen kullanmaya başlamadan önce kullanımı kolaylaştıracak birkaç ayar ile başlayalım. Aşağıdaki
ayarları <code>~/.screenrc</code> içerisine kopyalayın. Buradaki ayarlar temelde bize hangi sekmede olduğumuz
bilgisini verecek. Geri kalan ayarlar İngilizce halleri ile açıklanmış durumda.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a># Disable startup message
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>startup_message off
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a># Show status bar at bottom
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>hardstatus alwayslastline
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>hardstatus string &#39;%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %m-%d %{W}%c %{g}]&#39;
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a># Start numbering windows from 1
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>bind c screen 1
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>bind ^c screen 1
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>bind 0 select 10
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>screen 1
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a># Enable mouse scrolling and scroll bar history scrolling
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>termcapinfo xterm* ti@:te@
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a># Set large scrollback buffer
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>defscrollback 10000
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a># Don&#39;t display the copyright page
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>startup_message off
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a># Tab-completion flashes in heading bar
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>vbell off
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a># Automatically detach on hangup
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>autodetach on
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a># Change escape sequence to Ctrl+A
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>escape ^Aa
</span></code></pre></div>
<h3 id="screen-kullanm">Screen Kullanımı<a class="headerlink" href="#screen-kullanm" title="Permanent link">&para;</a></h3>
<p>Temelde yapacağımız şey bir <code>screen</code> oturumu başlatmak ve bu oturum içerisinde komutlarımızı girerek
ilgili süreçleri devam ettirmek. Daha önce screen kullanmamış olanlar için minik bir giriş yapalım.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>screen<span class="w"> </span>-S<span class="w"> </span>oturumismi
</span></code></pre></div>
<p>Bu komut <code>oturumismi</code> adıyla yeni bir screen oturumu başlatır. Terminalinizin alt kısmında fark
edeceğiniz üzere açılışta sadece 1 adet sekme bulunmaktadır. Aynı komutu tekrarlayarak birden fazla
screen oturumu açılabilir ancak yeni oturum başlatmadan önce var olan oturumdan ayrılmak (detach)
gerekmektedir.</p>
<p>Bunun için <code>Ctrl-a d</code> tuş kombinasyonları kullanılır. Yani <code>Ctrl</code> ve <code>a</code> tuşlarına aynı anda basılır
ve çekilir. Sonrasında sadece <code>d</code> tuşuna basılır. Buradaki <code>Ctrl-a</code> tuş kombinasyonu kaçış dizisi
(escape sequence) olarak adlandırılır. Bir üstteki screen ayarları bölümünün sonunda bunu <code>Ctrl-a</code>
olarak ayarladığımızı görebilirsiniz.</p>
<div class="admonition note">
<p class="admonition-title">MacOS kullanıcıları</p>
<p>MacOS kullananlar <code>Ctrl</code> tuşu için <code>Control^</code> tuşunu kullanmalı. Yani burada <code>Ctrl-a</code> kaçış
dizisi görüldüğünde Mac üzerinde <code>Control-a</code> tuşlarına basılmalı.</p>
</div>
<p>Screen oturumundan ayrıldıktan sonra ekranınızdaki her şeyin oturum öncesi konsol çıktısına dönmesi
gerekiyor. Tekrar oturuma devam etmek için aşağıdaki komutu kullanın.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>screen<span class="w"> </span>-r<span class="w"> </span>oturumismi
</span></code></pre></div>
<p>Burada var olan oturumları <code>screen -list</code> komutu ile de görebilirsiniz. Screen ile çalışırken
normalde <code>-S</code> ve <code>-r</code> ile belirttiğimiz oturum isimleri zorunlu değil ancak oturum ismi verilmezse
screen otomatik olarak <code>pid</code> numarasını oturum ismi olarak kullanıyor ve birden fazla oturum açınca
hangi oturumun ne olduğu anlaşılamayabiliyor. Bu açıdan her daim oturum ismi ile çalışmak
oturumların ne olduğunu daha anlaşılabilir kılıyor.</p>
<p>Oturumdan ayrılma ve tekrar dahil olma pratiğini yaptıktan sonra aşağıdaki kombinasyonlarla screen
oturumunuzu yönetilebilir hale getirebilirsiniz.</p>
<ul>
<li><code>Ctrl-a c</code>: yeni bir sekme oluşturur (create)</li>
<li><code>Ctrl-a n</code>: bir sonraki sekmeye geçer (next)</li>
<li><code>Ctrl-a p</code>: bir önceki sekmeye geçer (previous)</li>
<li><code>Ctrl-a A</code>: sekme ismini değiştirir</li>
</ul>
<h2 id="mitmdump">Mitmdump<a class="headerlink" href="#mitmdump" title="Permanent link">&para;</a></h2>
<p>Yazının başında bahsettiğim gibi burada yapmamız gereken bize gelen istekleri olduğu gibi üçüncü
parti servise aktarmak. Bunun için de <code>mitmdump</code> kullanacağız ve ana olarak aşağıdaki komutu
çalıştıracağız. Bu komut belirttiğimiz porta gelen istekleri <code>(5000)</code>, yine belirttiğimiz sunucuya
aktaracak <code>(api.servis.com)</code> ve istekleri bir dosyaya <code>(servis.flow)</code> yazacak. Bu komutu yeni bir
screen oturumu içerisinde çalıştırın.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>mitmdump<span class="w"> </span>--mode<span class="w"> </span>reverse:https://api.servis.com<span class="w"> </span>-p<span class="w"> </span><span class="m">5000</span><span class="w"> </span>-w<span class="w"> </span>servis.flow
</span></code></pre></div>
<p>Artık proxymiz hazır. 5000. port üzerinde aktif ve gelen / giden bütün istekler flow dosyasına
yazılıyor. Devamında yapacağımız aksiyon bu flow dosyasını <code>mitmproxy</code> ile okuyarak istekleri görmek
ancak bunun öncesinde bu proxy sunucumuzu dışarıya açmamız gerekmekte. Bunun için de Caddy
kullanacağız.</p>
<h2 id="caddy">Caddy<a class="headerlink" href="#caddy" title="Permanent link">&para;</a></h2>
<p>Burada bir alan adına ihtiyaç olacağını söylemiştim. Alan adınızı proxy sunucusuna yönlendirdikten
sonra Caddy ayarlarını yapmamız gerekmekte. Örnek olması açısından burada <code>proxy.sirketismi.com</code>
alan adını kullanacağız.</p>
<p><code>/etc/caddy/Caddyfile</code> dosyasını açın ve aşağıdaki satırları girin.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>proxy.sirketismi.com {
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>        reverse_proxy :5000
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>}
</span></code></pre></div>
<p>Sonrasında <code>service caddy reload</code> komutu ile sunucuyu yenileyin.</p>
<p>Bu ayar bize SSL sertifikalı bir şekilde 5000. portta oluşturduğumuz mitm sürecini kullanmamıza
olanak sağlayacak.</p>
<h2 id="mitmproxy-ve-kullanm">Mitmproxy ve Kullanım<a class="headerlink" href="#mitmproxy-ve-kullanm" title="Permanent link">&para;</a></h2>
<p>Artık tek yapmamız gereken üçüncü parti servis adresininin bulunduğu yerlere <code>proxy.sirketismi.com</code>
yazmak. İstekler sunucumuza gelmeye başladığında bunlar <code>mitmdump</code> aracılığı ile <code>servis.flow</code>
dosyasına kaydolacak. Bu dosyayı <code>mitmproxy</code> yardımı ile okuyacağız. <code>Ctrl-a c</code> ile yeni bir screen
sekmesi açın ve aşağıdaki komutu girin.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>mitmproxy<span class="w"> </span>-r<span class="w"> </span>servis.flow
</span></code></pre></div>
<p>Burada bizi aşağıdaki gibi bir arayüz karşılayacak.</p>
<p><img alt="Flow listesi" src="../../assets/mitmproxy-ile-hata-ayiklama/flow-listesi.png" /></p>
<p>Bu arayüzde var olan flowların hepsini görebiliyoruz. Yön tuşları ile detayını görmek istediğiniz
flow'u seçip enter tuşuna basarak bunu görebilirsiniz. Sonrasında ESC tuşu ile tekrar flow listesine
dönebilirsiniz. Örnek olması açısından 404 alınan flowu seçtim ve beni aşağıdaki ekran karşıladı.</p>
<p><img alt="Flow detay" src="../../assets/mitmproxy-ile-hata-ayiklama/flow-detay.png" /></p>
<p>Burada yine yön tuşları ile sağa ve sola giderek istek / dönüş / detay bilgilerini görebilirsiniz.</p>
<div class="admonition note">
<p class="admonition-title">Flow dosyası ve yenileme</p>
<p>Mitmproxy okuduğumuz bu flow dosyasının o an var olan içeriğini gösterir. Sonrasında bir istek
gelmişse gelen bu yeni istekler yenilenmez veya gösterilmez. Bunun için mitmproxy'den çıkıp
tekrar aynı komut ile dosyayı okumamız gerekmekte.</p>
</div>
<h2 id="sonuc">Sonuç<a class="headerlink" href="#sonuc" title="Permanent link">&para;</a></h2>
<p>Kontrolümüzün olmadığı sistemler tarafından üçüncü parti servislere ne tür bir istek atıldığını daha
kolay görebilmek için <code>mitmproxy</code> çok faydalı bir araç, hayat kurtarıcı diyebilirim. SMS OTP
örneğinde partner sisteminden isteklerin atıldığını ancak geri dönüşte hata alındığını bu yolla
görebildik. Alınan hata tam anlamıyla karşımıza çıktığı için ve partner sistemi de bu isteği aldığı
için problemi nokta atışı tespit edebildik. Umarım bu araç sizlerin de işinize yarayacaktır.</p>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Başa dön
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Altbilgi" >
        
          
          <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Önceki: Ana Sayfa">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Önceki
              </span>
              <div class="md-ellipsis">
                Ana Sayfa
              </div>
            </div>
          </a>
        
        
          
          <a href="../devpi-ile-ozel-pypi-sunucusu-kurulumu/" class="md-footer__link md-footer__link--next" aria-label="Sonraki: Devpi ile Özel PyPI Sunucusu Kurulumu">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Sonraki
              </span>
              <div class="md-ellipsis">
                Devpi ile Özel PyPI Sunucusu Kurulumu
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Eren Türkay
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.top", "navigation.sections", "navigation.path", "navigation.tabs", "navigation.footer", "toc.follow", "content.code.copy"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Kopyaland\u0131", "clipboard.copy": "Kopyala", "search.result.more.one": "Bu sayfada 1 tane daha", "search.result.more.other": "Bu sayfada # tane daha", "search.result.none": "E\u015fle\u015fen dok\u00fcman bulunamad\u0131", "search.result.one": "1 dok\u00fcman bulundu", "search.result.other": "# dok\u00fcman bulundu", "search.result.placeholder": "Aramaya ba\u015flamak i\u00e7in yaz\u0131n", "search.result.term.missing": "Eksik", "select.version": "Versiyon se\u00e7"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>